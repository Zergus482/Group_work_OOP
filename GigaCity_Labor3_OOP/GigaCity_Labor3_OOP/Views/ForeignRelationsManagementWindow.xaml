<Window x:Class="GigaCity_Labor3_OOP.Views.ForeignRelationsManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Управление внешними связями" Height="700" Width="1200"
        WindowStartupLocation="CenterOwner"
        Background="#2F2F2F">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="{Binding StatusMessage}" FontSize="12" Foreground="Yellow" Margin="10" TextWrapping="Wrap"/>

        <TabControl Grid.Row="1" Margin="10">
            <!-- Вкладка: Страны -->
            <TabItem Header="Страны">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ItemsControl ItemsSource="{Binding Countries}" Margin="10">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#3A3A3A" BorderBrush="#555" BorderThickness="1" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                                    <StackPanel>
                                        <TextBlock Text="{Binding Name}" FontSize="14" FontWeight="Bold" Foreground="White" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding Code}" FontSize="12" Foreground="LightGray" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding RelationsStatus}" FontSize="12" Foreground="LightBlue" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding RelationsLevel, StringFormat='Уровень отношений: {0}/100'}" FontSize="12" Foreground="LightGreen"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </TabItem>

            <!-- Вкладка: Иммиграция -->
            <TabItem Header="Иммиграция">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ItemsControl ItemsSource="{Binding Immigrants}" Margin="10">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#3A3A3A" BorderBrush="#555" BorderThickness="1" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                                    <StackPanel>
                                        <TextBlock Text="{Binding Name}" FontSize="13" FontWeight="Bold" Foreground="White" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding CountryOfOrigin.Name, StringFormat='Страна происхождения: {0}'}" FontSize="12" Foreground="LightGray" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding Reason, StringFormat='Причина: {0}'}" FontSize="12" Foreground="LightBlue" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding ArrivalDate, StringFormat='Дата прибытия: {0:dd.MM.yyyy HH:mm}'}" FontSize="11" Foreground="LightSteelBlue"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </TabItem>

            <!-- Вкладка: Импорт -->
            <TabItem Header="Импорт">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ItemsControl ItemsSource="{Binding Imports}" Margin="10">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#3A3A3A" BorderBrush="#555" BorderThickness="1" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                                    <StackPanel>
                                        <TextBlock Text="{Binding SourceCountry.Name, StringFormat='Из: {0}'}" FontSize="13" FontWeight="Bold" Foreground="White" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding ResourceType, StringFormat='Ресурс: {0}'}" FontSize="12" Foreground="LightGray" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding Quantity, StringFormat='Количество: {0}'}" FontSize="12" Foreground="LightBlue" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding Cost, StringFormat='Стоимость: {0:C}'}" FontSize="12" Foreground="LightGreen" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding ImportDate, StringFormat='Дата: {0:dd.MM.yyyy HH:mm}'}" FontSize="11" Foreground="LightSteelBlue"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </TabItem>

            <!-- Вкладка: Экспорт -->
            <TabItem Header="Экспорт">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ItemsControl ItemsSource="{Binding Exports}" Margin="10">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#3A3A3A" BorderBrush="#555" BorderThickness="1" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                                    <StackPanel>
                                        <TextBlock Text="{Binding DestinationCountry.Name, StringFormat='В: {0}'}" FontSize="13" FontWeight="Bold" Foreground="White" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding ResourceType, StringFormat='Ресурс: {0}'}" FontSize="12" Foreground="LightGray" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding Quantity, StringFormat='Количество: {0}'}" FontSize="12" Foreground="LightBlue" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding Revenue, StringFormat='Доход: {0:C}'}" FontSize="12" Foreground="LightGreen" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding ExportDate, StringFormat='Дата: {0:dd.MM.yyyy HH:mm}'}" FontSize="11" Foreground="LightSteelBlue"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </TabItem>

            <!-- Вкладка: Торговые сделки -->
            <TabItem Header="Торговые сделки">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ItemsControl ItemsSource="{Binding TradeDeals}" Margin="10">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#3A3A3A" BorderBrush="#555" BorderThickness="1" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                                    <StackPanel>
                                        <TextBlock Text="{Binding PartnerCountry.Name, StringFormat='Партнер: {0}'}" FontSize="13" FontWeight="Bold" Foreground="White" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding IsActive, StringFormat='Активна: {0}'}" FontSize="12" Margin="0,0,0,5">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Foreground" Value="Red"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsActive}" Value="True">
                                                            <Setter Property="Foreground" Value="LightGreen"/>
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding IsActive}" Value="False">
                                                            <Setter Property="Foreground" Value="Gray"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                        <TextBlock Text="{Binding ImportResource, StringFormat='Импорт: {0} ({1})'}" FontSize="12" Foreground="LightBlue" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding ExportResource, StringFormat='Экспорт: {0} ({1})'}" FontSize="12" Foreground="LightGreen" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding StartDate, StringFormat='Начало: {0:dd.MM.yyyy}'}" FontSize="11" Foreground="LightSteelBlue"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </TabItem>
        </TabControl>
    </Grid>
</Window>

