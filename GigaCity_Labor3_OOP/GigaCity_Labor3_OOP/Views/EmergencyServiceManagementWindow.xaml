<Window x:Class="GigaCity_Labor3_OOP.Views.EmergencyServiceManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Управление пожарными службами" Height="700" Width="1000"
        WindowStartupLocation="CenterOwner"
        Background="#2F2F2F">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Левая панель: Пожарные станции и техника -->
        <Border Grid.Column="0" BorderBrush="#555" BorderThickness="0,0,1,0" Padding="10">
            <StackPanel>
                <TextBlock Text="Пожарные станции" FontSize="18" FontWeight="Bold" Foreground="White" Margin="0,0,0,10"/>
                
                <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="600">
                    <ItemsControl ItemsSource="{Binding FireStations}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#3A3A3A" BorderBrush="#555" BorderThickness="1" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                                    <StackPanel>
                                        <TextBlock Text="{Binding Name}" FontSize="14" FontWeight="Bold" Foreground="Red" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding PersonnelCount, StringFormat='Персонал: {0} чел.'}" FontSize="12" Foreground="LightGray" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding Capacity, StringFormat='Вместимость: {0} ед. техники'}" FontSize="12" Foreground="LightGray" Margin="0,0,0,10"/>
                                        
                                        <TextBlock Text="Техника:" FontSize="12" FontWeight="SemiBold" Foreground="White" Margin="0,0,0,5"/>
                                        <ItemsControl ItemsSource="{Binding Vehicles}">
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Border Background="#2A2A2A" Padding="8" Margin="0,0,0,5" CornerRadius="3">
                                                        <StackPanel>
                                                            <TextBlock Text="{Binding Name}" FontSize="11" FontWeight="Bold" Foreground="White"/>
                                                            <TextBlock Text="{Binding Type}" FontSize="10" Foreground="LightGray" Margin="0,2,0,0"/>
                                                            <TextBlock Text="{Binding StatusText}" FontSize="10" Foreground="LightBlue" Margin="0,2,0,0"/>
                                                            <TextBlock Text="{Binding CurrentLocation}" FontSize="9" Foreground="LightSteelBlue" Margin="0,2,0,0"/>
                                                        </StackPanel>
                                                    </Border>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </StackPanel>
        </Border>

        <!-- Правая панель: Происшествия и вызовы -->
        <Border Grid.Column="1" Padding="10">
            <StackPanel>
                <TextBlock Text="Происшествия" FontSize="18" FontWeight="Bold" Foreground="White" Margin="0,0,0,10"/>
                
                <TextBlock Text="{Binding StatusMessage}" FontSize="12" Foreground="Yellow" Margin="0,0,0,10" TextWrapping="Wrap"/>
                
                <TextBlock Text="{Binding VehiclesOnCallCount, StringFormat='Техника на вызове: {0}'}" FontSize="14" FontWeight="Bold" Foreground="Orange" Margin="0,0,0,10"/>
                
                <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="500">
                    <ItemsControl ItemsSource="{Binding Disasters}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#4A2A2A" BorderBrush="#AA5555" BorderThickness="1" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                                    <StackPanel>
                                        <TextBlock Text="{Binding Type, StringFormat='Тип: {0}'}" FontSize="13" FontWeight="Bold" Foreground="Orange" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding Severity, StringFormat='Серьезность: {0:F1}%'}" FontSize="12" Foreground="Red" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding ReportedAt, StringFormat='Время: {0:HH:mm:ss}'}" FontSize="11" Foreground="LightGray" Margin="0,0,0,5"/>
                                        <TextBlock Text="{Binding IsActive, StringFormat='Активно: {0}'}" FontSize="11" Margin="0,0,0,5">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Foreground" Value="Gray"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsActive}" Value="True">
                                                            <Setter Property="Foreground" Value="Orange"/>
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding IsActive}" Value="False">
                                                            <Setter Property="Foreground" Value="Gray"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Координаты: " FontSize="11" Foreground="LightGray"/>
                                            <TextBlock Text="{Binding XCoordinate, StringFormat='X: {0}'}" FontSize="11" Foreground="White" Margin="5,0,0,0"/>
                                            <TextBlock Text="{Binding YCoordinate, StringFormat='Y: {0}'}" FontSize="11" Foreground="White" Margin="5,0,0,0"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </StackPanel>
        </Border>
    </Grid>
</Window>

